---
// src/layouts/Layout.astro
import "../styles/global.css";

const {
  title,
  description = "業界特化の転職支援サービス。年収アップとキャリアの最適化を支援します。",
  bodyClass = "",
} = Astro.props;
---

<!doctype html>
<html lang="ja" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <meta name="description" content={description} />
    
    <link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    {import.meta.env.PROD && (
      <script is:inline>
        (function (w, d, s, l, i) {
          w[l] = w[l] || [];
          w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
          var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != "dataLayer" ? "&l=" + l : "";
          j.async = true;
          j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
          f.parentNode.insertBefore(j, f);
        })(window, document, "script", "dataLayer", "GTM-TBTHH8XN");
      </script>
    )}
  </head>

  <body class={bodyClass}>
    {import.meta.env.PROD && (
      <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TBTHH8XN" height="0" width="0" style="display: none; visibility: hidden"></iframe></noscript>
    )}
    
    <slot />

    <footer class="bg-[#1e3a5f] text-[#E0F2FE] py-12 px-4 mt-auto">
      <div class="max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6 text-sm">
        <div>
          <div class="font-bold text-xl text-white tracking-wider">OFFER</div>
          <p class="text-xs mt-2 opacity-80">キャリア最適化のための転職支援サービス</p>
        </div>
        <div class="text-center md:text-right">
          <div class="mt-4 space-x-6 text-xs font-medium">
            <a href="/company" class="hover:text-white transition">運営者情報</a>
            <a href="/privacy" class="hover:text-white transition">プライバシーポリシー</a>
          </div>
        </div>
      </div>
      <div class="text-center text-[10px] text-[#94a3b8] mt-12 border-t border-[#334155] pt-8">
        &copy; {new Date().getFullYear()} Career Support. All Rights Reserved.
      </div>
    </footer>
  </body>
</html>