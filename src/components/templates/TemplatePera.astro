---
// src/components/templates/TemplatePera.astro
import AffiliateBanner from './AffiliateBanner.astro';
import StickyFooter from './StickyFooter.astro';
import BaseLayout from '../../layouts/Layout.astro';
const { entry, Content } = Astro.props;
const data = entry.data;
const cushionUrl = `/link/${entry.slug}`;

// 配色設定（なければデフォルト）
const colors = data.colors || {
  primary: '#00A968',
  secondary: '#F4F7F6',
  accent: '#F39C12',
  txtMain: '#333333',
  link: '#2563eb',
};
---

<BaseLayout title={data.title} description={data.description} colors={colors}>
<div class="bg-white min-h-screen pb-20">
  {/* ヘッダー画像（クリックで飛ぶようにする場合も多い） */}
  <a href={cushionUrl} class="block w-full max-w-2xl mx-auto hover:opacity-95 transition-opacity">
    <img src={data.images.mv} alt="Main Visual" class="w-full h-auto shadow-md" />
  </a>

  {/* 直下CTAボタン */}
  <div class="hidden md:block bg-slate-50 border-b border-slate-200">
    <AffiliateBanner link={cushionUrl} />
  </div>

  {/* 最低限の説明テキスト（300文字程度） */}
  <div class="max-w-2xl mx-auto px-6 py-10 prose prose-slate">
    <Content />
  </div>

  {/* フッターCTA */}
  <StickyFooter link={cushionUrl} />
</div>
</BaseLayout>